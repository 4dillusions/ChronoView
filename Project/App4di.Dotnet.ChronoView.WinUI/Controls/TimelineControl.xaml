<UserControl
    x:Class="App4di.Dotnet.ChronoView.WinUI.Controls.TimelineControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="using:App4di.Dotnet.ChronoView.WinUI.Controls"
    x:Name="Root"
    mc:Ignorable="d">

    <UserControl.Resources>
        <Style TargetType="local:TimelineControl">
            <Setter Property="MarkerBrush" Value="{ThemeResource Timeline.MarkerBrush}"/>
            <Setter Property="HoverBrush" Value="{ThemeResource Timeline.HoverBrush}"/>
            <Setter Property="SelectedBrush" Value="{ThemeResource Timeline.SelectedBrush}"/>
        </Style>
    </UserControl.Resources>
    
    <Grid x:Name="RootGrid" Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Dates and Image -->
        <Grid Grid.Row="0" Margin="0,4,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <TextBlock Grid.Column="0" x:Name="StartDateText" Foreground="{ThemeResource App.SubtleTextBrush}" VerticalAlignment="Center"/>

            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8" HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="{Binding SelectedTimeLineItem.ImageName, ElementName=Root}"/>
                <TextBlock Text="{Binding SelectedTimeLineItem.Timestamp, ElementName=Root}"/>
            </StackPanel>

            <TextBlock Grid.Column="2" x:Name="EndDateText" Foreground="{ThemeResource App.SubtleTextBrush}" VerticalAlignment="Center"/>
        </Grid>

        <!-- Timeline -->
        <Border Grid.Row="1" Background="{ThemeResource App.SurfaceBrush}" BorderBrush="{ThemeResource App.SurfaceBorderBrush}" BorderThickness="1" CornerRadius="8">
            <ScrollViewer x:Name="TimelineScroller" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                <Grid x:Name="TimelineContentGrid" Height="80" HorizontalAlignment="Left">
                    <Canvas x:Name="TimelineCanvas" Height="80" Background="Transparent" HorizontalAlignment="Left"/>
                    <Canvas x:Name="MarkerCanvas" Height="80" Background="Transparent" HorizontalAlignment="Left"/>
                </Grid>
            </ScrollViewer>
        </Border>

        <!-- Menu -->
        <CommandBar Grid.Row="2" DefaultLabelPosition="Right" HorizontalAlignment="Center" IsSticky="True">
            <AppBarButton x:Name="ZoomOutBtn" Icon="ZoomOut" Label="Zoom out"/>
            <AppBarButton x:Name="ZoomInBtn" Icon="ZoomIn" Label="Zoom in"/>
            <AppBarButton x:Name="ResetZoomBtn" Icon="Zoom" Label="Reset zoomt"/>
         </CommandBar >
    </Grid>
</UserControl>